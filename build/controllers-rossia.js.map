{"version":3,"sources":["controllers-rossia.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","PopupMealRossiyaController","utils","mealMenuSubgroupMobileChange","vm","mealMenuSubgroupMobile","mealMenuSubgroup","switchNext","successSwitch","currentPassengerIndex","passengers","service","availableByPassengerSegments","currentFlightIndex","selectFlightPassenger","j","switchPrev","this","close","jQuery","fancybox","subgroupItems","createOptionsForUiSelect","subgroups","availablePassengers","filter","passenger","index","angular","component","templateUrl","controller","controllerAs","bindings","mealMenu","flight","setPassengerFlightMeal","clearPassengerFlightMeal","getPassengerFlightMeal","mealImagesPath","2","console","log","./components/popup-meal-rossiya/popup-meal-rossiya"],"mappings":"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","file":"controllers-rossia.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\nangular.module('app').component('popupMealRossiya', {\r\n\ttemplateUrl: 'components/popup-meal-rossiya/popup-meal-rossiya.html',\r\n\tcontroller: ['utils', PopupMealRossiyaController],\r\n\tcontrollerAs: 'vm',\r\n\tbindings: {\r\n\t\tmealMenu: '=menu',\r\n\t\tpassenger: '=passenger',\r\n\t\tcurrentPassengerIndex: '=',\r\n\t\tcurrentFlightIndex: '=',\r\n\t\tpassengers: '=passengers',\r\n\t\tflight: '=flight',\r\n\t\tsetPassengerFlightMeal: '=handler',\r\n\t\tclearPassengerFlightMeal: '&remove',\r\n\t\tgetPassengerFlightMeal: '=get',\r\n\t\tsubgroups: '=subgroups',\r\n\t\tmealImagesPath: '=path',\r\n\t\tservice: '=',\r\n\t\tselectFlightPassenger: '=select'\r\n\t}\r\n});\r\n\r\nfunction PopupMealRossiyaController(utils) {\r\n\r\n\tvar vm = this;\r\n\tvm.close = jQuery.fancybox.close;\r\n\tvm.mealMenuSubgroupMobileChange = mealMenuSubgroupMobileChange;\r\n\tvm.mealMenuSubgroup = false;\r\n\tvm.mealMenuSubgroupMobile = 'false';\r\n\tvm.subgroupItems = utils.createOptionsForUiSelect(vm.subgroups, 'all');\r\n\tvm.switchNext = switchNext;\r\n\tvm.switchPrev = switchPrev;\r\n\t\r\n\tvm.availablePassengers = vm.passengers.filter(function (passenger, index) {\r\n        return (\r\n            vm.service.availableByPassengerSegments[index] &&\r\n            vm.service.availableByPassengerSegments[index][vm.currentFlightIndex]\r\n        );\r\n    });\r\n\r\n\tfunction mealMenuSubgroupMobileChange() {\r\n\t\tif (vm.mealMenuSubgroupMobile === false) {\r\n\t\t\tvm.mealMenuSubgroup = false;\r\n\t\t} else {\r\n\t\t\tvm.mealMenuSubgroup = vm.mealMenuSubgroupMobile * 1;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction switchNext() {\r\n\t\tvar successSwitch = false;\r\n\t\tfor (var i = vm.currentPassengerIndex + 1; i < vm.passengers.length; i++) {\r\n\t\t\tif (\r\n\t\t\t\tvm.service.availableByPassengerSegments[i] &&\r\n\t\t\t\tvm.service.availableByPassengerSegments[i][vm.currentFlightIndex]\r\n\t\t\t) {\r\n\t\t\t\tvm.selectFlightPassenger(vm.currentFlightIndex, i);\r\n\t\t\t\tsuccessSwitch = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!successSwitch) {\r\n\t\t\tfor (var j = 0; j < vm.passengers.length; j++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tvm.service.availableByPassengerSegments[j] &&\r\n\t\t\t\t\tvm.service.availableByPassengerSegments[j][vm.currentFlightIndex]\r\n\t\t\t\t) {\r\n\t\t\t\t\tvm.selectFlightPassenger(vm.currentFlightIndex, j);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction switchPrev() {\r\n\t\tvar successSwitch = false;\r\n\t\tfor (var i = vm.currentPassengerIndex - 1; i > -1; i--) {\r\n\t\t\tif (\r\n\t\t\t\tvm.service.availableByPassengerSegments[i] &&\r\n\t\t\t\tvm.service.availableByPassengerSegments[i][vm.currentFlightIndex]\r\n\t\t\t) {\r\n\t\t\t\tvm.selectFlightPassenger(vm.currentFlightIndex, i);\r\n\t\t\t\tsuccessSwitch = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!successSwitch) {\r\n\t\t\tfor (var j = vm.passengers.length - 1; j > -1; j--) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tvm.service.availableByPassengerSegments[j] &&\r\n\t\t\t\t\tvm.service.availableByPassengerSegments[j][vm.currentFlightIndex]\r\n\t\t\t\t) {\r\n\t\t\t\t\tvm.selectFlightPassenger(vm.currentFlightIndex, j);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\n\n\nconsole.log('app: ', angular.module('app'));\n\nrequire('./components/popup-meal-rossiya/popup-meal-rossiya');\n\n},{\"./components/popup-meal-rossiya/popup-meal-rossiya\":1}]},{},[2]);\n"]}